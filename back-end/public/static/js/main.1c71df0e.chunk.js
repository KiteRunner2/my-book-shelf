(this["webpackJsonpmy-book-shelf"]=this["webpackJsonpmy-book-shelf"]||[]).push([[0],{23:function(e,a,t){e.exports=t(35)},28:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),o=(t(28),t(6)),s=t(12);var i=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1],c=t?"collapse navbar-collapse show":"collapse navbar-collapse";return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top py-3"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"My Book Collection"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return l(!t)}},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:c,id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/saved",className:"nav-link"},"Saved")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{to:"/search",className:"nav-link"},"Search"))))),r.a.createElement("div",{className:"jumbotron jumbotron-fluid text-center text-black",style:{backgroundImage:"url('./img/book.jpg')",backgroundSize:"cover",backgroundPosition:"center"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"Your book shelf"),r.a.createElement("p",{className:"lead"},"Search for and view your saved books"))))},m=t(4),u=t.n(m),p=t(13),d=t(8);var b=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{class:"container"},r.a.createElement("form",null,r.a.createElement("div",{class:"input-group"},r.a.createElement("label",{class:"sr-only",for:"inlineFormInput"},"Search"),r.a.createElement("input",{onChange:function(e){c(e.target.value)},type:"text",class:"form-control form-control-lg",id:"inlineFormInput",placeholder:"Type book title or author",value:l}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),console.log("handleButtonClick called and inputValue is: ".concat(l)),e.setPhrase(l)},className:"btn btn-lg btn-outline-primary"},"Search")))))};var v=function(e){function a(){return(a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),"/api/storebook",n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)},a.next=5,fetch("/api/storebook",n).then((function(e){return e.json()}));case 5:"ok"==a.sent.answer?alert("Saved"):alert("error saving book");case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row text-center border border-secondary rounded",style:{marginTop:"5px"}},r.a.createElement("div",{className:"col-sm-2 text-center py-3 text-monospace"},r.a.createElement("span",{className:"font-weight-bold"},"Title:")," ",e.title,r.a.createElement("hr",null),r.a.createElement("img",{src:e.imgLink?e.imgLink:""})),r.a.createElement("div",{className:"col-sm-8 text-center py-3 px-lg-5 text-monospace"}," ",r.a.createElement("span",{className:"font-weight-bold"},"Description:")," ",r.a.createElement("span",{className:"align-middle"}," ",e.description)),r.a.createElement("div",{className:"col-sm-2  text-center align-middle py-3"},r.a.createElement("a",{href:e.previewLink,className:"btn btn-small btn-secondary align-middle",target:"blank"},"Visit"),"    ",r.a.createElement("a",{href:"#",className:"btn btn-small btn-secondary align-middle",target:"blank",onClick:function(e){return a.apply(this,arguments)}},"Save"))))};var g=function(e){var a=e.searchValue?e.searchValue:e;return a.length,r.a.createElement("div",{className:"container"},a.map((function(e){return r.a.createElement(v,{title:e.title,description:e.description,authors:e.authors,imgLink:e.imgLink,previewLink:e.previewLink})})))};var E=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),i=s[0],m=s[1];function v(){return(v=Object(d.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getBooks called2"),console.log("searchValue is ".concat(t)),a='/api/getbooks2/q="'.concat(t,'"'),console.log("search url is: ".concat(a)),e.next=6,fetch(a).then((function(e){return console.log(e),e.json()}));case 6:n=e.sent,console.log("printing books after getting it from server",n),m(Object(p.a)(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){""!==t&&function(){v.apply(this,arguments)}()}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement(b,{setPhrase:function(e){l(e)}}),r.a.createElement(g,{searchValue:i}))};var f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row text-center border border-secondary rounded",style:{marginTop:"5px"}},r.a.createElement("div",{className:"col-sm-2 text-center py-3 text-monospace"},r.a.createElement("span",{className:"font-weight-bold"},"Title:")," ",e.title,r.a.createElement("hr",null),r.a.createElement("img",{src:e.imgLink?e.imgLink:""})),r.a.createElement("div",{className:"col-sm-8 text-center py-3 px-lg-5 text-monospace"}," ",r.a.createElement("span",{className:"font-weight-bold"},"Description:")," ",r.a.createElement("span",{className:"align-middle"}," ",e.description)),r.a.createElement("div",{className:"col-sm-2  text-center align-middle py-3"},r.a.createElement("a",{href:e.previewLink,className:"btn btn-small btn-secondary align-middle",target:"blank"},"Visit"))))};var h=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1];function c(){return(c=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/getbooks",e.next=3,fetch("/api/getbooks").then((function(e){return e.json()}));case 3:a=e.sent,l(Object(p.a)(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"container"},t.map((function(e){return r.a.createElement(f,{title:e.title,description:e.description,previewLink:e.previewLink,imgLink:e.imgLink})})))},k=t(7);var N=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/search"},r.a.createElement(i,null),r.a.createElement(E,null)),r.a.createElement(k.a,{path:"/saved"},r.a.createElement(i,null),r.a.createElement(h,null)),r.a.createElement(k.a,{path:"/"},r.a.createElement(i,null)))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.1c71df0e.chunk.js.map