{"version":3,"sources":["components/NavBar.js","components/SearchBar.js","components/bookCard.js","components/searchResultsPage.js","components/SearchPage.js","components/SavedBookCard.js","components/SavedPage.js","App.js","index.js"],"names":["NavBar","useState","isShown","setShown","showClass","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onClick","id","to","style","backgroundImage","backgroundSize","backgroundPosition","SearchBar","props","inputValue","setInputValue","class","for","onChange","e","target","value","placeholder","preventDefault","console","log","setPhrase","bookCard","a","data","method","headers","body","JSON","stringify","fetch","then","response","json","answer","alert","marginTop","title","src","imgLink","description","previewLink","searchResultsPage","searchResult","length","map","element","authors","SearchPage","searchValue","setSearchValue","setSearchResult","url","result","books","useEffect","getBooks2","phrase","SavedBookCard","SavedPage","setBooks","getBooks","book","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c71df0e.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nfunction NavBar() {\r\n    const [isShown, setShown] = useState(false);\r\n    let showClass = !isShown\r\n        ? `collapse navbar-collapse`\r\n        : `collapse navbar-collapse show`;\r\n    const style = {\r\n        jumbotron: {\r\n            backgroundImage: \"url('./img/book.jpg')\",\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n        },\r\n    };\r\n    return (\r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top py-3\">\r\n                <a className=\"navbar-brand\" href=\"#\">\r\n                    My Book Collection\r\n                </a>\r\n                <button\r\n                    className=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#navbarSupportedContent\"\r\n                    aria-controls=\"navbarSupportedContent\"\r\n                    aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\"\r\n                    onClick={() => setShown(!isShown)}\r\n                >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div className={showClass} id=\"navbarSupportedContent\">\r\n                    <ul className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/saved\" className=\"nav-link\">\r\n                                Saved\r\n                            </Link>\r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/search\" className=\"nav-link\">\r\n                                Search\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n            <div\r\n                className=\"jumbotron jumbotron-fluid text-center text-black\"\r\n                style={style.jumbotron}\r\n            >\r\n                <div className=\"container\">\r\n                    <h1 className=\"display-4\">Your book shelf</h1>\r\n                    <p className=\"lead\">Search for and view your saved books</p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { useState } from 'react';\r\nfunction SearchBar(props) {\r\n    const [inputValue, setInputValue] = useState('');\r\n\r\n    function handleInputChange(e) {\r\n        setInputValue(e.target.value);\r\n        // console.log(inputValue);\r\n    }\r\n    function handleButtonClick(e) {\r\n        e.preventDefault();\r\n        console.log(\r\n            `handleButtonClick called and inputValue is: ${inputValue}`\r\n        );\r\n        props.setPhrase(inputValue);\r\n    }\r\n    return (\r\n        <div class=\"container\">\r\n            <form>\r\n                <div class=\"input-group\">\r\n                    <label class=\"sr-only\" for=\"inlineFormInput\">\r\n                        Search\r\n                    </label>\r\n                    <input\r\n                        onChange={handleInputChange}\r\n                        type=\"text\"\r\n                        class=\"form-control form-control-lg\"\r\n                        id=\"inlineFormInput\"\r\n                        placeholder=\"Type book title or author\"\r\n                        value={inputValue}\r\n                    />\r\n                    <div className=\"input-group-append\">\r\n                        <button\r\n                            onClick={handleButtonClick}\r\n                            className=\"btn btn-lg btn-outline-primary\"\r\n                        >\r\n                            Search\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default SearchBar;\r\n","import React from 'react';\r\nfunction bookCard(props) {\r\n    // console.log(`logging props from bookCard ${props}`);\r\n    const style = {\r\n        topBuffer: {\r\n            marginTop: '5px',\r\n        },\r\n    };\r\n\r\n    async function sendBook(e) {\r\n        e.preventDefault();\r\n        // console.log(props);\r\n        const url = '/api/storebook';\r\n        const data = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify(props),\r\n        };\r\n        const result = await fetch(url, data).then((response) =>\r\n            response.json()\r\n        );\r\n        if (result.answer == 'ok') {\r\n            alert('Saved');\r\n        } else {\r\n            alert('error saving book');\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"row text-center border border-secondary rounded\"\r\n                style={style.topBuffer}\r\n            >\r\n                <div className=\"col-sm-2 text-center py-3 text-monospace\">\r\n                    <span className=\"font-weight-bold\">Title:</span>{' '}\r\n                    {props.title}\r\n                    <hr></hr>\r\n                    <img src={props.imgLink ? props.imgLink : ''} />\r\n                </div>\r\n                <div className=\"col-sm-8 text-center py-3 px-lg-5 text-monospace\">\r\n                    {' '}\r\n                    <span className=\"font-weight-bold\">Description:</span>{' '}\r\n                    <span className=\"align-middle\"> {props.description}</span>\r\n                </div>\r\n                <div className=\"col-sm-2  text-center align-middle py-3\">\r\n                    <a\r\n                        href={props.previewLink}\r\n                        className=\"btn btn-small btn-secondary align-middle\"\r\n                        target=\"blank\"\r\n                    >\r\n                        Visit\r\n                    </a>\r\n                    {'    '}\r\n                    <a\r\n                        href=\"#\"\r\n                        className=\"btn btn-small btn-secondary align-middle\"\r\n                        target=\"blank\"\r\n                        onClick={sendBook}\r\n                    >\r\n                        Save\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\nexport default bookCard;\r\n","import React from 'react';\r\nimport BookCard from './bookCard';\r\nfunction searchResultsPage(props) {\r\n    // console.log('logging props from searchResultPage', props);\r\n    const searchResult = props['searchValue'] ? props['searchValue'] : props;\r\n\r\n    const title =\r\n        searchResult.length > 0\r\n            ? '<div class=\"col-sm-2 text-center\">Title</div><div class=\"col-sm-10 text-center\">Description</div>'\r\n            : null;\r\n    return (\r\n        <div className=\"container\">\r\n            {/* <div\r\n                className=\"row text-center\"\r\n                dangerouslySetInnerHTML={{ __html: title }}\r\n            /> */}\r\n            {searchResult.map((element) => (\r\n                <BookCard\r\n                    title={element['title']}\r\n                    description={element['description']}\r\n                    authors={element['authors']}\r\n                    imgLink={element['imgLink']}\r\n                    previewLink={element['previewLink']}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default searchResultsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport SearchResultsPage from './searchResultsPage';\r\n\r\nfunction SearchPage() {\r\n    const [searchValue, setSearchValue] = useState('');\r\n    const [searchResult, setSearchResult] = useState([]);\r\n    useEffect(() => {\r\n        // console.log('calling useEffect hoook');\r\n        if (searchValue !== '') {\r\n            // getBooks();\r\n            getBooks2();\r\n        }\r\n    }, [searchValue]);\r\n    function setSearch(phrase) {\r\n        // console.log('call from SearchPage component', phrase);\r\n        setSearchValue(phrase);\r\n        // console.log(searchValue);\r\n        // setTimeout(getResults, 500);\r\n    }\r\n\r\n    async function getBooks() {\r\n        // console.log('getBooks called');\r\n        // console.log(`searchValue is ${searchValue}`);\r\n        let url = `https://www.googleapis.com/books/v1/volumes?q=\"${searchValue}\"&key=AIzaSyBAzph4dcGUEI9hkcIh7XuZJzpBuNhEJ9s&projection=lite`;\r\n        // console.log(`search url is: ${url}`);\r\n        const books = await fetch(url).then((result) => result.json());\r\n        setSearchResult([...books.items]);\r\n    }\r\n\r\n    async function getBooks2() {\r\n        console.log('getBooks called2');\r\n        console.log(`searchValue is ${searchValue}`);\r\n        let url = `/api/getbooks2/q=\"${searchValue}\"`;\r\n        console.log(`search url is: ${url}`);\r\n        const books = await fetch(url).then((result) => {\r\n            console.log(result);\r\n            return result.json();\r\n        });\r\n        console.log('printing books after getting it from server', books);\r\n        setSearchResult([...books]);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <SearchBar setPhrase={setSearch} />\r\n            <SearchResultsPage searchValue={searchResult} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\r\n\r\nfunction SavedBookCard(props) {\r\n    const style = {\r\n        topBuffer: {\r\n            marginTop: '5px',\r\n        },\r\n    };\r\n    // console.log('logging props for SavedBookCard', props);\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"row text-center border border-secondary rounded\"\r\n                style={style.topBuffer}\r\n            >\r\n                <div className=\"col-sm-2 text-center py-3 text-monospace\">\r\n                    <span className=\"font-weight-bold\">Title:</span>{' '}\r\n                    {props.title}\r\n                    <hr></hr>\r\n                    <img src={props.imgLink ? props.imgLink : ''} />\r\n                </div>\r\n                <div className=\"col-sm-8 text-center py-3 px-lg-5 text-monospace\">\r\n                    {' '}\r\n                    <span className=\"font-weight-bold\">Description:</span>{' '}\r\n                    <span className=\"align-middle\"> {props.description}</span>\r\n                </div>\r\n                <div className=\"col-sm-2  text-center align-middle py-3\">\r\n                    <a\r\n                        href={props.previewLink}\r\n                        className=\"btn btn-small btn-secondary align-middle\"\r\n                        target=\"blank\"\r\n                    >\r\n                        Visit\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SavedBookCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport SavedBookCard from './SavedBookCard';\r\n\r\nfunction SavedPage() {\r\n    const [books, setBooks] = useState([]);\r\n    async function getBooks() {\r\n        const url = '/api/getbooks';\r\n        const result = await fetch(url).then((response) => response.json());\r\n        // console.log(result);\r\n        setBooks([...result]);\r\n    }\r\n    useEffect(function () {\r\n        // console.log('useEffect for getbooks called');\r\n        getBooks();\r\n    }, []);\r\n    return (\r\n        <div className=\"container\">\r\n            {books.map((book) => (\r\n                <SavedBookCard\r\n                    title={book.title}\r\n                    description={book.description}\r\n                    previewLink={book.previewLink}\r\n                    imgLink={book.imgLink}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SavedPage;\r\n","import React from 'react';\nimport NavBar from './components/NavBar';\nimport SearchPage from './components/SearchPage';\nimport SavedPage from './components/SavedPage';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nfunction App() {\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <Route path=\"/search\">\n                        <NavBar />\n                        <SearchPage />\n                    </Route>\n                    <Route path=\"/saved\">\n                        <NavBar />\n                        <SavedPage />\n                    </Route>\n                    <Route path=\"/\">\n                        <NavBar />\n                        {/* <SearchPage /> */}\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}